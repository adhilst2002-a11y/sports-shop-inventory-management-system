<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>{% if product %}Edit{% else %}Add{% endif %} Product</title>
  <style>{{ style|safe }}</style>
</head>
<body>
  <header>
    <div class="container">
      <h2>{% if product %}Edit{% else %}Add{% endif %} Product</h2>
      <div class="row">
        <a class="btn" href="/products/">Back to Products</a>
      </div>
    </div>
  </header>
  <div class="container">
    <form class="card" method="post">{% csrf_token %}
      <label>Name</label>
      <input name="name" value="{{ product.name|default:'' }}" required />
      <label>SKU</label>
      <input name="sku" value="{{ product.sku|default:'' }}" required />
      <label>Category</label>
      <select name="category">
        {% for key, val in product.CATEGORY_CHOICES if product %}
        <option value="{{ key }}" {% if product.category == key %}selected{% endif %}>{{ val }}</option>
        {% endfor %}
        {% if not product %}
        <option value="cricket">Cricket</option>
        <option value="football">Football</option>
        <option value="tennis">Tennis</option>
        <option value="apparel">Apparel</option>
        <option value="other" selected>Other</option>
        {% endif %}
      </select>
      <label>Description</label>
      <input name="description" value="{{ product.description|default:'' }}" />
      <label>Unit Price</label>
      <input name="unit_price" type="number" step="0.01" value="{{ product.unit_price|default:'' }}" required />
      <label>Low Stock Threshold</label>
      <input name="low_stock_threshold" type="number" value="{{ product.low_stock_threshold|default:'5' }}" />
      <label>Supplier</label>
      <select name="supplier">
        <option value="">-- Optional --</option>
        {% for s in suppliers %}
        <option value="{{ s.id }}" {% if product and product.supplier and product.supplier.id == s.id %}selected{% endif %}>{{ s.name }}</option>
        {% endfor %}
      </select>
      <div class="row" style="margin-top:10px;">
        <button class="btn primary" type="submit">Save</button>
      </div>
    </form>
  </div>
</body>
</html>
